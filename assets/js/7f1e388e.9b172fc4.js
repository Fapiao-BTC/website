"use strict";(self.webpackChunkfapiao=self.webpackChunkfapiao||[]).push([[9918],{2420:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var r=e(5893),a=e(1151);const s={sidebar_position:9},i="Inscribe",o={id:"Chinese/list/9",title:"Inscribe",description:"\u5728Fp\u4e0a\u521b\u5efa\u94ed\u6587",source:"@site/docs/Chinese/list/9.md",sourceDirName:"Chinese/list",slug:"/Chinese/list/9",permalink:"/docs/Chinese/list/9",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9},sidebar:"tutorialSidebar",previous:{title:"\u5feb\u901f\u521b\u5efaKFC20\u4ee3\u5e01",permalink:"/docs/Chinese/list/8"},next:{title:"\u5feb\u901f\u521b\u5efaInscribe",permalink:"/docs/Chinese/list/10"}},l={},c=[{value:"\u5728Fp\u4e0a\u521b\u5efa\u94ed\u6587",id:"\u5728fp\u4e0a\u521b\u5efa\u94ed\u6587",level:2}];function u(n){const t={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,a.a)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"inscribe",children:"Inscribe"}),"\n",(0,r.jsx)(t.h2,{id:"\u5728fp\u4e0a\u521b\u5efa\u94ed\u6587",children:"\u5728Fp\u4e0a\u521b\u5efa\u94ed\u6587"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"KIP-10"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",children:'[\r\n\t"$name", \r\n\t"$symbol", \r\n\t"$totalSupply",\r\n\t"$totalSupplyMax",\r\n\t"$mintMax", \r\n\t"$balanceOf", \r\n\t"transfer",\r\n\t"mint"\r\n]\n'})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"\u5408\u7ea6\u6e90\u7801"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",children:"class Contract {\r\n\r\n    _name;\r\n    _symbol;\r\n    _mintMax;\r\n    _totalSupply;\r\n    _totalSupplyMax;\r\n    _balances = new Map();\r\n\r\n    init() {\r\n        this._name = 'KFC-INSC';\r\n        this._symbol = 'KI';\r\n        this._mintMax = SafeMath.val(1000);\r\n        this._totalSupply = SafeMath.val(0);\r\n        this._totalSupplyMax = SafeMath.val(1000000);\r\n    }\r\n\r\n    $name() {\r\n        return this._name;\r\n    };\r\n\r\n    $symbol() {\r\n        return this._symbol;\r\n    }\r\n\r\n    $mintMax(){\r\n        return SafeMath.val(this._mintMax);\r\n    }\r\n    \r\n    $totalSupply() {\r\n        return SafeMath.val(this._totalSupply);\r\n    };\r\n\r\n    $totalSupplyMax() {\r\n        return SafeMath.val(this._totalSupplyMax);\r\n    };\r\n\r\n    $balanceOf(account) {\r\n        return SafeMath.val(this._balances.getBucket(account));\r\n    };\r\n\r\n    mint(amount){\r\n        require(SafeMath.lte(amount, this._mintMax), 'KFC-INSC: maximum mint number exceeded');\r\n        \r\n        this._totalSupply = SafeMath.add(this._totalSupply,amount)\r\n\t\t\r\n        require(SafeMath.lte(this._totalSupply,this._totalSupplyMax),'KFC-INSC: exceed the maximum circulation');\r\n\t\t\r\n        let owner = this._msgSender();\r\n        let oldR = this._balances.getBucket(owner)\r\n        this._balances.setBucket(owner, SafeMath.add(oldR, amount))\r\n        this.event({\r\n            name: 'Transfer',\r\n            from: 'fapiao.org',\r\n            to: owner,\r\n            amount: amount\r\n        });\r\n    }\r\n\r\n    transfer(recipient, amount) {\r\n        this._transfer(this._msgSender(), recipient, amount);\r\n        return true;\r\n    };\r\n\r\n    _transfer(owner, recipient, amount) {\r\n        let oldO = this._balances.getBucket(owner);\r\n\r\n        require(SafeMath.gte(oldO, amount), 'KFC-INSC: transfer amount exceeds balance');\r\n\r\n        let oldR = this._balances.getBucket(recipient)\r\n\r\n        this._balances.setBucket(owner, SafeMath.sub(oldO, amount));\r\n        this._balances.setBucket(recipient, SafeMath.add(oldR, amount))\r\n\r\n        this.event({\r\n            name: 'Transfer',\r\n            from: owner,\r\n            to: recipient,\r\n            amount: amount\r\n        });\r\n    };\r\n\r\n    _msgSender() {\r\n        return this.msgSender;\r\n    }\r\n};\n"})})]})}function p(n={}){const{wrapper:t}={...(0,a.a)(),...n.components};return t?(0,r.jsx)(t,{...n,children:(0,r.jsx)(u,{...n})}):u(n)}},1151:(n,t,e)=>{e.d(t,{Z:()=>o,a:()=>i});var r=e(7294);const a={},s=r.createContext(a);function i(n){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(t):{...t,...n}}),[t,n])}function o(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:i(n.components),r.createElement(s.Provider,{value:t},n.children)}}}]);