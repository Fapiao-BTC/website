"use strict";(self.webpackChunkfapiao=self.webpackChunkfapiao||[]).push([[7792],{8226:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var t=r(5893),a=r(1151);const s={sidebar_position:6},i="Built-in functions and properties",c={id:"English/list/6",title:"Built-in functions and properties",description:"Block height",source:"@site/docs/English/list/6.md",sourceDirName:"English/list",slug:"/English/list/6",permalink:"/docs/English/list/6",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Contract deployment contract",permalink:"/docs/English/list/5"},next:{title:"KFC20",permalink:"/docs/English/list/7"}},l={},d=[];function o(e){const n={code:"code",h1:"h1",p:"p",pre:"pre",strong:"strong",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"built-in-functions-and-properties",children:"Built-in functions and properties"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Block height"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"this.height\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Current contract address"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"this.address\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Transaction source address"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"this.txOrigin\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Current calling address"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"this.msgSender\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Block timestamp"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"this.timeStamp\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Transaction Hash"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"this.txHash\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Load external contract"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'let contract = NewContract("kid");\r\ncontract.call("funcName",...args);\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Contract Event"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"//There is no return allowed below the event code line. If you want to return other data after the event, you need to define another function to record the event.\r\n//The first Key must be name (event name), there can be multiple arg parameters\r\nthis.event({name:'EventName',arg1:'arg1',arg2:'arg2'});\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Random Number - Integer"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"let min = 1;\r\nlet max = 100;\r\nthis.randomInt(min,max);\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Random Number-Decimal"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"let min = 0.0001;\r\nlet max = 100.00;\r\nthis.randomFloat(min,max);\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Deploy contract (no parameters)"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'//Purified contract code hexadecimal string\r\nlet scriptHex = "";\r\n//A KID contract address will be returned after deployment //This deployment method cannot be used in the init function\r\net kid = this.deploy(scriptHex);\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Deployment contract (with parameters)"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'//Purified contract code hexadecimal string\r\nlet scriptHex = "";\r\n//A KID contract address will be returned after deployment //This deployment method cannot be used in the init function\r\net kid = this.deploy(scriptHex,[arg1,arg2,arg3...]);\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"MD5 encryption"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'md5e("Hello, World!");\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"sha256 encryption"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'sha256e("Hello, World!");\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"keccak256 encryption"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'keccak256("Hello, World!");\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Base64 encoding"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'base64e("Hello, World!");\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Base64 decoding"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'base64d("SGVsbG8sIFdvcmxkIQ==");\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"SafeMath"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"//add\r\nSafeMath.add(2,-1);\r\n\r\n//reduce\r\nSafeMath.sub(3,2);\r\n\r\n//take\r\nSafeMath.mul(2,3);\r\n\r\n//remove\r\nSafeMath.div(6,2);\r\n\r\n//Module\r\nSafeMath.mod(2,4);\r\n\r\n//square\r\nSafeMath.pow(2,3);\r\n\r\n//Keep 2 decimal places\r\nSafeMath.fixed(100.03123,2)\r\n\r\n//String\r\nSafeMath.val(1);\r\n\r\n//Number\r\nSafeMath.num(1);\r\n\r\n//equal\r\nSafeMath.eq(1,1);\r\n\r\n//not equal\r\nSafeMath.neq(1,1);\r\n\r\n//more than the\r\nSafeMath.gt(2,1);\r\n\r\n//Less than\r\nSafeMath.lt(1,2);\r\n\r\n//greater than or equal to\r\nSafeMath.qte(1,2);\r\n\r\n//less than or equal to\r\nSafeMath.lte(1,2);\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Map"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'class Contract {\r\n\r\n     name;\r\n     _tMap = new Map();\r\n\r\n\r\n     init() {\r\n         this.name = "123";\r\n     }\r\n\r\n     setMap(k,v){\r\n        this._tMap.set(k,v)\r\n     }\r\n\r\n     $getMap(k){\r\n         return this._tMap.get(k)\r\n     }\r\n\r\n     delete(key){\r\n         this._tMap.delete(key)\r\n     }\r\n\r\n     $hasKey(key){\r\n         return this._tMap.hasKey(key)\r\n     }\r\n\r\n     $getName(){\r\n         return this.name;\r\n     }\r\n\r\n     setBucket(){\r\n         this._tMap.setBucket("key1", "key2", "value")\r\n     }\r\n\r\n     $getBucket(){\r\n         const value = this._tMap.getBucket("key1");\r\n         if(typeof value === \'object\'){\r\n             return JSON.stringify(value);\r\n         }else{\r\n             return value;\r\n         }\r\n     }\r\n\r\n     delBucket(){\r\n         this._tMap.delBucket("key1","key2")\r\n     }\r\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"BigNumber"})}),"\n",(0,t.jsx)(n.p,{children:"We have built-in bigNumber.js library, you can use it to complete high-precision business processing"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"new BigNumber(1)\n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>c,a:()=>i});var t=r(7294);const a={},s=t.createContext(a);function i(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);