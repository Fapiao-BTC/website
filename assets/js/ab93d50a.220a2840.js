"use strict";(self.webpackChunkfapiao=self.webpackChunkfapiao||[]).push([[4111],{213:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var a=e(5893),r=e(1151);const s={sidebar_position:9},i="Inscribe",o={id:"list/9",title:"Inscribe",description:"\u5728Fp\u4e0a\u521b\u5efa\u94ed\u6587",source:"@site/docs/zh-CN/list/9.md",sourceDirName:"list",slug:"/list/9",permalink:"/zh-CN/list/9",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9},sidebar:"tutorialSidebar",previous:{title:"\u5feb\u901f\u521b\u5efaKFC20\u4ee3\u5e01",permalink:"/zh-CN/list/8"},next:{title:"\u5feb\u901f\u521b\u5efaInscribe",permalink:"/zh-CN/list/10"}},l={},c=[{value:"\u5728Fp\u4e0a\u521b\u5efa\u94ed\u6587",id:"\u5728fp\u4e0a\u521b\u5efa\u94ed\u6587",level:2}];function u(n){const t={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{id:"inscribe",children:"Inscribe"}),"\n",(0,a.jsx)(t.h2,{id:"\u5728fp\u4e0a\u521b\u5efa\u94ed\u6587",children:"\u5728Fp\u4e0a\u521b\u5efa\u94ed\u6587"}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"KIP-10"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:'[\r\n\t"$name", \r\n\t"$symbol", \r\n\t"$totalSupply",\r\n\t"$totalSupplyMax",\r\n\t"$mintMax", \r\n\t"$balanceOf", \r\n\t"transfer",\r\n\t"mint"\r\n]\n'})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.strong,{children:"\u5408\u7ea6\u6e90\u7801"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"class Contract {\n\n    _name;\n    _symbol;\n    _mintMax;\n    _totalSupply;\n    _totalSupplyMax;\n    _balances = new Map();\n\n    init() {\n        this._name = 'KFC-INSC';\n        this._symbol = 'KI';\n        this._mintMax = SafeMath.val(1000);\n        this._totalSupply = SafeMath.val(0);\n        this._totalSupplyMax = SafeMath.val(1000000);\n    }\n\n    $name() {\n        return this._name;\n    };\n\n    $symbol() {\n        return this._symbol;\n    }\n\n    $mintMax(){\n        return SafeMath.val(this._mintMax);\n    }\n    \n    $totalSupply() {\n        return SafeMath.val(this._totalSupply);\n    };\n\n    $totalSupplyMax() {\n        return SafeMath.val(this._totalSupplyMax);\n    };\n\n    $balanceOf(account) {\n        return SafeMath.val(this._balances.getBucket(account));\n    };\n\n    mint(amount){\n        require(SafeMath.lte(amount, this._mintMax), 'KFC-INSC: maximum mint number exceeded');\n        this._mint(amount);\n        return true;\n    }\n\n    _mint(amount){\n        this._totalSupply = SafeMath.add(this._totalSupply,amount)\n\n        let owner = this._msgSender();\n        let oldR = this._balances.getBucket(owner)\n        this._balances.setBucket(owner, SafeMath.add(oldR, amount))\n        this.event({\n            name: 'Transfer',\n            from: 'fapiao.org',\n            to: owner,\n            amount: amount\n        });\n    }\n\n    transfer(recipient, amount) {\n        this._transfer(this._msgSender(), recipient, amount);\n        return true;\n    };\n\n    _transfer(owner, recipient, amount) {\n        let oldO = this._balances.getBucket(owner);\n\n        require(SafeMath.gte(oldO, amount), 'KFC-INSC: transfer amount exceeds balance');\n\n        let oldR = this._balances.getBucket(recipient)\n\n        this._balances.setBucket(owner, SafeMath.sub(oldO, amount));\n        this._balances.setBucket(recipient, SafeMath.add(oldR, amount))\n\n        this.event({\n            name: 'Transfer',\n            from: owner,\n            to: recipient,\n            amount: amount\n        });\n    };\n\n    _msgSender() {\n        return this.msgSender;\n    }\n};\n"})})]})}function p(n={}){const{wrapper:t}={...(0,r.a)(),...n.components};return t?(0,a.jsx)(t,{...n,children:(0,a.jsx)(u,{...n})}):u(n)}},1151:(n,t,e)=>{e.d(t,{Z:()=>o,a:()=>i});var a=e(7294);const r={},s=a.createContext(r);function i(n){const t=a.useContext(s);return a.useMemo((function(){return"function"==typeof n?n(t):{...t,...n}}),[t,n])}function o(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:i(n.components),a.createElement(s.Provider,{value:t},n.children)}}}]);